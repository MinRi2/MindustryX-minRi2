From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Anuken <arnukren@gmail.com>
Date: Sat, 2 Aug 2025 19:02:06 +0200
Subject: [PATCH] Rare player network error fix

---
 core/src/mindustry/Vars.java           | 3 +++
 core/src/mindustry/core/NetClient.java | 1 +
 2 files changed, 4 insertions(+)

diff --git a/core/src/mindustry/Vars.java b/core/src/mindustry/Vars.java
index 3ddbc4c7b47d5b580995e2e866512f391039c4d4..aab42f1018e5b080a83fd7b673d82157ca6cae0f 100644
--- a/core/src/mindustry/Vars.java
+++ b/core/src/mindustry/Vars.java
@@ -391,6 +391,9 @@ public class Vars implements Loadable{
 
     /** Cleans up after a successful launch. */
     public static void finishLaunch(){
+        Core.settings.put("lastBuild", Version.build);
+        Core.settings.put("lastBuildString", Version.buildString());
+
         if(launchIDFile != null){
             launchIDFile.delete();
         }
diff --git a/core/src/mindustry/core/NetClient.java b/core/src/mindustry/core/NetClient.java
index ac8803d3f486e4f2018dd765e1b6a9dd18fe1903..9e8536719322664674cb7a856b9da7d32a032558 100644
--- a/core/src/mindustry/core/NetClient.java
+++ b/core/src/mindustry/core/NetClient.java
@@ -423,6 +423,7 @@ public class NetClient implements ApplicationListener{
 
     @Remote(variants = Variant.one)
     public static void setPosition(float x, float y){
+        if(player.dead()) return;
         player.unit().set(x, y);
         player.set(x, y);
     }
